{"version":3,"sources":["webpack:///static/js/app.50000de252f174439fd3.js","webpack:///./src/App.vue?1dd9","webpack:///./src/App.vue?b627","webpack:///App.vue","webpack:///./src/main.js"],"names":["webpackJsonp","module","exports","__webpack_require__","Component","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","ref","md-title","prompt","title","md-ok-text","ok","md-cancel-text","cancel","on","open","onOpen","close","onClose","model","value","callback","$$v","uid","expression","_v","domProps","textContent","_s","show_uid","nativeOn","click","$event","openDialog","_l","item","key","time","track-by","staticStyle","font-weight","color","msg","keyup","_k","keyCode","clickSend","md-inline","text","staticRenderFns","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_vue_material_dist_vue_material_css__","__WEBPACK_IMPORTED_MODULE_2_n_zepto__","name","data","maxlength","hashid","msgs","ws","computed","methods","$refs","closeDialog","console","log","type","sendMsg","send","err","keepUid","_this","setTimeout","initWs","_this2","WebSocket","window","location","host","onopen","localStorage","setItem","onmessage","evt","push","JSON","parse","$nextTick","scrollTo","document","body","scrollHeight","onerror","created","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2_vue_material__","__WEBPACK_IMPORTED_MODULE_2_vue_material___default","use","a","config","productionTip","el","template","components","App"],"mappings":"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","file":"static/js/app.50000de252f174439fd3.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(8)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(13),\n  /* template */\n  __webpack_require__(5),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-wrap\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"uid\"\n  }, [_c('md-dialog-prompt', {\n    ref: \"dialog-uid\",\n    attrs: {\n      \"md-title\": _vm.prompt.title,\n      \"md-ok-text\": _vm.prompt.ok,\n      \"md-cancel-text\": _vm.prompt.cancel\n    },\n    on: {\n      \"open\": _vm.onOpen,\n      \"close\": _vm.onClose\n    },\n    model: {\n      value: (_vm.uid),\n      callback: function($$v) {\n        _vm.uid = $$v\n      },\n      expression: \"uid\"\n    }\n  }), _vm._v(\" \"), _c('md-button', {\n    staticClass: \"md-primary md-raised\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.show_uid)\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.openDialog('dialog-uid')\n      }\n    }\n  }, [_vm._v(\"Prompt12\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"msg-list\"\n  }, [_c('md-list', _vm._l((_vm.msgs), function(item) {\n    return _c('md-list-item', {\n      key: item.time,\n      attrs: {\n        \"track-by\": \"$index\"\n      }\n    }, [_c('p', {\n      staticClass: \"msg-wrap\"\n    }, [_c('span', {\n      staticStyle: {\n        \"font-weight\": \"bold\",\n        \"color\": \"#0000FF\"\n      }\n    }, [_vm._v(_vm._s(item.uid) + \": \")]), _vm._v(_vm._s(item.msg) + \"\\n          \"), _c('br'), _vm._v(\" \"), _c('small', {}, [_vm._v(_vm._s(item.time))])])])\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"send\",\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.clickSend()\n      }\n    }\n  }, [_c('md-input-container', {\n    staticClass: \"md-input-invalid\",\n    attrs: {\n      \"md-inline\": \"\"\n    }\n  }, [_c('label', [_vm._v(\"You can Input\")]), _vm._v(\" \"), _c('md-input', {\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.clickSend()\n      }\n    },\n    model: {\n      value: (_vm.text),\n      callback: function($$v) {\n        _vm.text = $$v\n      },\n      expression: \"text\"\n    }\n  })], 1), _vm._v(\" \"), _c('md-button', {\n    staticClass: \"md-raised md-accent\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.clickSend()\n      }\n    }\n  }, [_vm._v(\"Send\")])], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n/* 6 */,\n/* 7 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_material_dist_vue_material_css__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_material_dist_vue_material_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_material_dist_vue_material_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_n_zepto__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_n_zepto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_n_zepto__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      prompt: {\n        title: 'What\\'s your name?',\n        ok: 'Done',\n        cancel: 'Cancel',\n        maxlength: 30\n      },\n      uid: '',\n      hashid: null,\n      text: '',\n      msgs: [],\n      ws: null\n    };\n  },\n  computed: {\n    show_uid: function show_uid() {\n      return 'id: ' + (this.uid ? this.uid : 'Not set');\n    }\n  },\n  methods: {\n    openDialog: function openDialog(ref) {\n      this.$refs[ref].open();\n    },\n    closeDialog: function closeDialog(ref) {\n      this.$refs[ref].close();\n    },\n    onOpen: function onOpen() {\n      console.log('Opened');\n    },\n    onClose: function onClose(type) {\n      console.log('Closed', type);\n    },\n    sendMsg: function sendMsg(msg) {\n      this.ws.send(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({\n        'uid': this.uid,\n        'msg': msg\n      }));\n    },\n    clickSend: function clickSend() {\n      try {\n        this.sendMsg(this.text);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        this.text = '';\n      }\n    },\n    keepUid: function keepUid() {\n      var _this = this;\n\n      setTimeout(function () {\n        if (_this.uid == '' | _this.uid == null) {\n          _this.openDialog('dialog-uid');\n        }\n        _this.keepUid();\n      }, 1000);\n    },\n    initWs: function initWs() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        if (_this2.uid != '' & _this2.ws == null) {\n          try {\n            var ws = new WebSocket(\"ws://\" + window.location.host + '/chatws');\n\n            _this2.ws = ws;\n            _this2.ws.onopen = function () {\n              console.log('WebSocket connected', _this2.uid);\n              localStorage.setItem('uid', _this2.uid);\n              _this2.sendMsg('Online');\n            };\n            _this2.ws.onmessage = function (evt) {\n              _this2.msgs.push(JSON.parse(evt.data));\n              _this2.$nextTick(function () {\n                window.scrollTo(0, document.body.scrollHeight);\n              });\n            };\n            _this2.ws.onerror = function (err) {\n              console.log(err);\n            };\n          } catch (err) {\n            console.log(err);\n          }\n        }\n        _this2.initWs();\n      }, 2000);\n    }\n  },\n  created: function created() {\n    this.keepUid();\n    this.initWs();\n  }\n});\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_material__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_material___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue_material__);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_vue_material___default.a);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ })\n],[14]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.50000de252f174439fd3.js","\n/* styles */\nrequire(\"!!../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.11.2.0@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-54759ac2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/.11.2.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/.11.2.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.11.2.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.11.2.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54759ac2\\\"}!../node_modules/.11.2.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 2\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-wrap\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"uid\"\n  }, [_c('md-dialog-prompt', {\n    ref: \"dialog-uid\",\n    attrs: {\n      \"md-title\": _vm.prompt.title,\n      \"md-ok-text\": _vm.prompt.ok,\n      \"md-cancel-text\": _vm.prompt.cancel\n    },\n    on: {\n      \"open\": _vm.onOpen,\n      \"close\": _vm.onClose\n    },\n    model: {\n      value: (_vm.uid),\n      callback: function($$v) {\n        _vm.uid = $$v\n      },\n      expression: \"uid\"\n    }\n  }), _vm._v(\" \"), _c('md-button', {\n    staticClass: \"md-primary md-raised\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.show_uid)\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.openDialog('dialog-uid')\n      }\n    }\n  }, [_vm._v(\"Prompt12\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"msg-list\"\n  }, [_c('md-list', _vm._l((_vm.msgs), function(item) {\n    return _c('md-list-item', {\n      key: item.time,\n      attrs: {\n        \"track-by\": \"$index\"\n      }\n    }, [_c('p', {\n      staticClass: \"msg-wrap\"\n    }, [_c('span', {\n      staticStyle: {\n        \"font-weight\": \"bold\",\n        \"color\": \"#0000FF\"\n      }\n    }, [_vm._v(_vm._s(item.uid) + \": \")]), _vm._v(_vm._s(item.msg) + \"\\n          \"), _c('br'), _vm._v(\" \"), _c('small', {}, [_vm._v(_vm._s(item.time))])])])\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"send\",\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.clickSend()\n      }\n    }\n  }, [_c('md-input-container', {\n    staticClass: \"md-input-invalid\",\n    attrs: {\n      \"md-inline\": \"\"\n    }\n  }, [_c('label', [_vm._v(\"You can Input\")]), _vm._v(\" \"), _c('md-input', {\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.clickSend()\n      }\n    },\n    model: {\n      value: (_vm.text),\n      callback: function($$v) {\n        _vm.text = $$v\n      },\n      expression: \"text\"\n    }\n  })], 1), _vm._v(\" \"), _c('md-button', {\n    staticClass: \"md-raised md-accent\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.clickSend()\n      }\n    }\n  }, [_vm._v(\"Send\")])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.2.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-54759ac2\"}!./~/.11.2.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 5\n// module chunks = 1","<template>\n  <div id=\"app\" class=\"app-wrap\">\n    <!--<img src=\"./assets/logo.png\">-->\n    <!--<router-view></router-view>-->\n    <div class=\"uid\">\n      <md-dialog-prompt\n        :md-title=\"prompt.title\"\n        :md-ok-text=\"prompt.ok\"\n        :md-cancel-text=\"prompt.cancel\"\n        v-model=\"uid\"\n        @open=\"onOpen\"\n        @close=\"onClose\"\n        ref=\"dialog-uid\">\n      </md-dialog-prompt>\n\n      <md-button\n        class=\"md-primary md-raised\"\n        @click.native=\"openDialog('dialog-uid')\"\n        v-text=\"show_uid\"\n      >Prompt12</md-button>\n    </div>\n\n    <div class=\"msg-list\">\n      <md-list>\n        <md-list-item v-for=\"item in msgs\" :key=\"item.time\" track-by=\"$index\">\n          <p class=\"msg-wrap\">\n            <span style=\"font-weight: bold; color: #0000FF;\">{{ item.uid }}: </span>{{ item.msg }}\n            <br>\n            <small style=\"\">{{ item.time }}</small>\n          </p>\n        </md-list-item>\n      </md-list>\n    </div>\n\n    <div class=\"send\" @keyup.enter=\"clickSend()\">\n      <md-input-container md-inline class=\"md-input-invalid\">\n        <label>You can Input</label>\n        <md-input v-model=\"text\" @keyup.enter=\"clickSend()\"></md-input>\n      </md-input-container>\n      <md-button\n        class=\"md-raised md-accent\"\n        @click.native=\"clickSend()\"\n      >Send</md-button>\n    </div>\n\n  </div>\n</template>\ns\n<script>\nimport 'vue-material/dist/vue-material.css'\nimport $ from 'n-zepto'\nexport default {\n  name: 'app',\n    data: () => ({\n    prompt: {\n      title: 'What\\'s your name?',\n      ok: 'Done',\n      cancel: 'Cancel',\n      maxlength: 30,\n    },\n    uid: '',\n    hashid: null,\n    text: '',\n    msgs: [],\n    ws: null\n  }),\n  computed: {\n    show_uid () {\n      return 'id: ' + (this.uid ? this.uid : 'Not set')\n    }\n  },\n  methods: {\n    openDialog(ref) {\n      this.$refs[ref].open()\n    },\n    closeDialog(ref) {\n      this.$refs[ref].close()\n    },\n    onOpen() {\n      console.log('Opened')\n    },\n    onClose(type) {\n      console.log('Closed', type)\n    },\n    sendMsg(msg) {\n      this.ws.send(JSON.stringify({\n        'uid': this.uid,\n        'msg': msg\n      }))\n    },\n    clickSend() {\n      try {\n        this.sendMsg(this.text)\n      } catch (err) {\n        console.log(err)\n      } finally {\n        this.text = ''\n//        let li = $.getElementsByClassName('msg-list')\n//        li.scrollTo(0, li.scrollHeight)\n//        window.scrollTo(0,document.body.scrollHeight)\n//        window.scrollTo(0, $(window).height() + $(window).scrollTop())\n      }\n    },\n    keepUid() {\n      setTimeout(() => {\n        if (this.uid == '' | this.uid == null) {\n          this.openDialog('dialog-uid')\n        }\n        this.keepUid()\n      }, 1000)\n    },\n    initWs() {\n      setTimeout(() => {\n        if (this.uid != '' & this.ws == null) {\n          try {\n            let ws = new WebSocket(\"ws://\" + window.location.host + '/chatws')\n//            let ws = new WebSocket('ws://127.0.0.1/chatws')\n//            if (ws) {this.ws = ws} else if (ws2) {this.ws = ws2}\n            this.ws = ws\n            this.ws.onopen = () => {\n                console.log('WebSocket connected', this.uid)\n                localStorage.setItem('uid', this.uid)\n                this.sendMsg('Online')\n            }\n            this.ws.onmessage = (evt) => {\n                this.msgs.push(JSON.parse(evt.data))\n                this.$nextTick(() => {\n                  window.scrollTo(0,document.body.scrollHeight)\n                })\n            }\n            this.ws.onerror = (err) => {\n                console.log(err)\n            }\n          }\n          catch (err) {\n              console.log(err)\n          }\n        }\n        this.initWs()\n      }, 2000)\n    }\n  },\n  created () {\n//    if (localStorage.getItem('uid')) {\n//      this.uid = localStorage.getItem('uid')\n//    }\n    this.keepUid()\n    this.initWs()\n  }\n}\n\n</script>\n\n<style>\n  .app-wrap {\n    /*overflow: hidden;*/\n  }\n  .uid {\n    position: fixed;\n    top: 0px;\n    left: 10px;\n    z-index: 10;\n    background: white;\n    width: 100%;\n\n  }\n  .msg-list {\n    position: relative;\n    width: 100%;\n    top: 50px;\n    /*margin-top: 60px;*/\n    margin-bottom: 124px;\n    /*overflow: auto;*/\n    /*height: 60%;*/\n    /*top: 60px;*/\n    /*bottom: 130px;*/\n  }\n  .msg-wrap {\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n  .send {\n    position: fixed;\n    background: white;\n    /*left: 15px;*/\n    margin-left: 15px;\n    bottom: 0px;\n    width: 100%;\n    z-index: 10;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?31650d1b","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n// import router from './router'\r\nimport VueMaterial from 'vue-material'\r\n\r\nVue.use(VueMaterial)\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  // router,\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}