webpackJsonp([1],[,,function(t,n,e){e(8);var i=e(4)(e(13),e(5),null,null);t.exports=i.exports},,,function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app-wrap",attrs:{id:"app"}},[e("div",{staticClass:"uid"},[e("md-dialog-prompt",{ref:"dialog-uid",attrs:{"md-title":t.prompt.title,"md-ok-text":t.prompt.ok,"md-cancel-text":t.prompt.cancel},on:{open:t.onOpen,close:t.onClose},model:{value:t.uid,callback:function(n){t.uid=n},expression:"uid"}}),t._v(" "),e("md-button",{staticClass:"md-primary md-raised",domProps:{textContent:t._s(t.show_uid)},nativeOn:{click:function(n){t.openDialog("dialog-uid")}}},[t._v("Prompt12")])],1),t._v(" "),e("div",{staticClass:"msg-list"},[e("md-list",t._l(t.msgs,function(n){return e("md-list-item",{key:n.time,attrs:{"track-by":"$index"}},[e("p",{staticClass:"msg-wrap"},[e("span",{staticStyle:{"font-weight":"bold",color:"#0000FF"}},[t._v(t._s(n.uid)+": ")]),t._v(t._s(n.msg)+"\n          "),e("br"),t._v(" "),e("small",{},[t._v(t._s(n.time))])])])}))],1),t._v(" "),e("div",{staticClass:"send",on:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13))return null;t.clickSend()}}},[e("md-input-container",{staticClass:"md-input-invalid",attrs:{"md-inline":""}},[e("label",[t._v("You can Input")]),t._v(" "),e("md-input",{on:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13))return null;t.clickSend()}},model:{value:t.text,callback:function(n){t.text=n},expression:"text"}})],1),t._v(" "),e("md-button",{staticClass:"md-raised md-accent",nativeOn:{click:function(n){t.clickSend()}}},[t._v("Send")])],1)])},staticRenderFns:[]}},,function(t,n){},function(t,n){},,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(12),o=e.n(i),s=e(7),l=(e.n(s),e(3));e.n(l);n.default={name:"app",data:function(){return{prompt:{title:"What's your name?",ok:"Done",cancel:"Cancel",maxlength:30},uid:"",hashid:null,text:"",msgs:[],ws:null}},computed:{show_uid:function(){return"id: "+(this.uid?this.uid:"Not set")}},methods:{openDialog:function(t){this.$refs[t].open()},closeDialog:function(t){this.$refs[t].close()},onOpen:function(){console.log("Opened")},onClose:function(t){console.log("Closed",t)},sendMsg:function(t){this.ws.send(o()({uid:this.uid,msg:t}))},clickSend:function(){try{this.sendMsg(this.text)}catch(t){console.log(t)}finally{this.text=""}},keepUid:function(){var t=this;setTimeout(function(){""==t.uid|null==t.uid&&t.openDialog("dialog-uid"),t.keepUid()},1e3)},initWs:function(){var t=this;setTimeout(function(){if(""!=t.uid&null==t.ws)try{var n=new WebSocket("ws://"+window.location.host+"/chatws");t.ws=n,t.ws.onopen=function(){console.log("WebSocket connected",t.uid),localStorage.setItem("uid",t.uid),t.sendMsg("Online")},t.ws.onmessage=function(n){t.msgs.push(JSON.parse(n.data)),t.$nextTick(function(){window.scrollTo(0,document.body.scrollHeight)})},t.ws.onerror=function(t){console.log(t)}}catch(t){console.log(t)}t.initWs()},2e3)}},created:function(){this.keepUid(),this.initWs()}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(2),s=e.n(o),l=e(1),c=e.n(l);i.default.use(c.a),i.default.config.productionTip=!1,new i.default({el:"#app",template:"<App/>",components:{App:s.a}})}],[14]);
//# sourceMappingURL=app.50000de252f174439fd3.js.map